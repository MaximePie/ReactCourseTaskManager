<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8"/>
  <title>Hello React</title>
  <!-- Library -->
  <script src="https://unpkg.com/react@16/umd/react.development.js"></script>

  <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>

  <!-- babel => compilation du JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
      .Button {
          border: none;
          background-color: #9ca0e8;
          padding: 4px;
          cursor: pointer;
          margin: 4px;
          border-radius: 4px;
      }
  </style>
</head>

<body>
<div id="root">

</div>
<script type="text/babel">

  function PrimaryButton(props) { // Provient de la génération du composant
    // Déclencher une action quand on clique sur le bouton
    // Stocker l'information que le bouton a été cliqué et afficher un résultat en conséquence.

    // Text est le nom de notre state
    // setText est la fonction pour modifier le state en question
    // useState va créer le state
    // props.text est la valeur par défaut
    const [text, setText] = React.useState(props.text);

    // Attention, strictement interdit de faire text = "haha";
    // ça bousille le fonctionnement de React
    // Utiliser setText
    // Eviter de faire un setState dans la partie avant le return
    return (
      <button
        className="Button"
        onClick={direHello}
      >
        {text}
      </button>
    )

    function direHello() {
      setText('(Cliqué)' + text)
    }
  }

  // App est un composant
  function App() { // Javascript + Html = JSX

    return ( // Partie affichage
      <div>
        <PrimaryButton text={'Enregistrer'}/>
        <PrimaryButton text={'Supprimer'}/>
      </div>
    )
  }

  // Rendu dans le DOM
  ReactDOM.render(
    <App/>,
    document.getElementById('root')
  );
</script>
</body>

</html>
