<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8"/>
  <title>Hello React</title>
  <!-- Library -->
  <script src="https://unpkg.com/react@16/umd/react.development.js"></script>

  <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>

  <!-- babel => compilation du JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    .Button {
        border: none;
        background-color: #9ca0e8;
        padding: 4px;
        cursor: pointer;
        margin: 4px;
        border-radius: 4px;
    }
    .red{
      background: red;
    }
  </style>

</head>

<body>
<div id="root">
</div>
<script type="text/babel">

  
  function Counter() {
    const [counter, modifierCounter] = React.useState(-8);
    return (
      <p>
        {counter}
        <button onClick={augmenterLaValeur}>+1</button>
        <button onClick= {jediminue}>-1</button>
      </p>
    )
function jediminue(){
  modifierCounter(counter-1)
}
    function augmenterLaValeur() {
      modifierCounter(counter + 1)
    }
  }

  function PrimaryButton(props) {
    return (<button>{props.text}</button>)
  }


  // La tâche est terminée, ou pas.
  function Task(props) {

    const [estTerminee, setTaskState] = React.useState();
    const [creatures, setCreatures] = React.useState([]);

    // On ne peut pas afficher le contenu d'un booléen en JSX

    let message;
    let bg;
    // "Terminée"
    if (estTerminee === true) {
      message = "Terminée";
      bg = ""; 
    }
    else {
      message = "En cours";
      bg = "red"; 
    }

    // Condition : Si terminé est égal à true
    // > Issue 1 : Soit on met className = "red";
    // Sinon > Issue 2 : Soit on met className = "";

    // className="red" => className={?}
    // class n'existe pas en React JSX. Il faut utiliser className.
    return (
      <li className={bg}>
        Est terminée : {message}
        -
        {props.texte}
        <button onClick={ChangementColor}>Terminer</button>

      </li>
    )

    function ChangementColor(){
      setCreatures([
        {
          firstname: "Djallil",
        },
        {
          firstname: "FLorian",
        }
      ])
      setTaskState(!estTerminee);
    }
  }
  
  // Tous les composants commencent par une majuscule
  function App() {
    const tasks = ['Faire les courses', 'Manger de la mozza', 'Fête des lumières'];

    // Ajouter le primaryButton
    return (
      <div>
        <h4>Liste des tâches</h4>
        <Counter/>
        <ul>
          {tasks.map(task => <Task texte={task}/>)}
        </ul>
        <Task texte={"Tout ce qu'on veut"}/>
      </div>
    )
  }

  // Rendu dans le DOM
  ReactDOM.render(
    <App/>,
    document.getElementById('root')
  );
</script>
</body>

</html>
